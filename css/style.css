*{margin:0;padding:0;box-sizing:border-box}
body{background:#050b08;font-family:monospace;color:#3cff8f;overflow:hidden}
canvas{position:fixed;inset:0;z-index:-1}

/* Screens */
.screen{position:absolute;inset:0;display:none;align-items:center;justify-content:center;flex-direction:column}
.screen.active{display:flex;animation:portalIn .7s ease}
.screen.exit{animation:portalOut .6s ease forwards}

@keyframes portalIn{
  from{opacity:0;transform:scale(1.2);filter:blur(20px)}
  to{opacity:1}
}
@keyframes portalOut{
  to{opacity:0;transform:scale(.7);filter:blur(20px)}
}

/* Terminal */
.terminal{width:92%;max-width:420px;background:#000c;border:1px solid #3cff8f;border-radius:12px;padding:14px;box-shadow:0 0 40px #3cff8f44}
.terminal-header{display:flex;align-items:center;margin-bottom:8px}
.dot{width:10px;height:10px;border-radius:50%;margin-right:6px}
.red{background:#ff5555}.yellow{background:#ffcc00}.green{background:#00ff66}
.path{margin-left:10px}
.cursor{animation:blink 1s infinite}
@keyframes blink{50%{opacity:0}}

/* Rooms */
.rooms-header{width:100%;display:flex;justify-content:space-between;padding:10px}
.rooms{width:100%;max-width:360px}
.room{width:100%;margin:8px 0;padding:14px;background:#000a;border:1px solid #3cff8f;color:#3cff8f;border-radius:10px;cursor:pointer}
.room:hover{background:#3cff8f22}
.room.void{border-color:#9b5cff;color:#d2b6ff}

/* Chat */
.chat-header{
  position:sticky;
  top:0;
  z-index:20;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:8px 12px;
  background:#050b08ee;
  border-bottom:1px solid #1aff6a;
  box-shadow:0 0 20px #3cff8f22;
}
.chat-layout{display:flex;width:100%;height:100%}
.chat-area{flex:1;display:flex;flex-direction:column;padding:10px}
#messages{flex:1;overflow-y:auto}
.message{margin:6px 0;animation:floatFade 30s forwards}
@keyframes floatFade{
  0%{opacity:1}
  80%{opacity:1}
  100%{opacity:0;transform:translateY(-20px)}
}

.chat-input{display:flex;gap:6px}
.chat-input input{flex:1;background:#000;border:1px solid #3cff8f;color:#3cff8f;padding:6px}

/* Users */
.users-panel{width:140px;border-left:1px solid #3cff8f;padding:6px}

/* ROOT BUTTON */
#rootBtn{
  background:linear-gradient(135deg,#00ff9c22,#00ff9c55);
  border:1px solid #3cff8f;
  color:#3cff8f;
  padding:6px 14px;
  border-radius:14px;
  font-weight:bold;
  letter-spacing:1px;
  cursor:pointer;
  box-shadow:0 0 12px #3cff8f55;
  transition:.3s;
}

#rootBtn:hover{
  box-shadow:0 0 24px #3cff8f;
  background:#3cff8f22;
}

/* ===== MOBILE FIX ===== */
@media (max-width: 768px){

  body{
    overflow:hidden;
  }

  .chat-layout{
    flex-direction:column;
    height:100vh;
  }

  .chat-area{
    flex:1;
    display:flex;
    flex-direction:column;
    width:100%;
  }

  #messages{
    flex:1;
    overflow-y:auto;
    padding:10px;
  }

  .chat-input{
    display:flex;
    gap:6px;
    padding:8px;
    background:#050b08;
    border-top:1px solid #1aff6a;
  }

  .chat-input input[type="text"]{
    flex:1;
  }

  .users-panel{
    position:absolute;
    right:0;
    top:60px;
    width:60%;
    max-width:220px;
    height:calc(100% - 60px);
    background:#050b08ee;
    border-left:1px solid #1aff6a;
    transform:translateX(100%);
    transition:.3s;
    z-index:10;
  }

  .users-panel.active{
    transform:translateX(0);
  }
}

#backRooms{
  background:transparent;
  border:1px solid #3cff8f;
  color:#3cff8f;
  padding:6px 10px;
  border-radius:10px;
  box-shadow:0 0 10px #3cff8f55;
  cursor:pointer;
  transition:.3s;
}

#backRooms:hover{
  background:#3cff8f22;
  box-shadow:0 0 20px #3cff8f;
}

#usersToggle{
  background:transparent;
  border:1px solid #3cff8f;
  color:#3cff8f;
  padding:6px 10px;
  border-radius:50%;
  font-size:1.1em;
  cursor:pointer;
  box-shadow:0 0 10px #3cff8f55;
}
